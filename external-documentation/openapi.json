{"openapi":"3.1.0","info":{"title":"Depict API","version":"1.0"},"paths":{"/v3/listings":{"get":{"tags":["Listing (v3)"],"summary":"Get Listings","description":"Returns the full listing hierarchy. Useful for navigation menus, listing selection dialogs, etc.\nCan optionally be filtered to only show listings of certain types.\n\nExample response:\n<pre>\n[\n    {\n        \"listing_id\": \"f346c448-4cf1-4373-9156-49e222cd6db0\",\n        \"listing_type\": \"smart_pick\",\n        \"show_in_breadcrumbs\": false,\n        \"show_in_quicklinks\": false,\n        \"title\": \"Trending\",\n        \"children\": []\n    },\n    {\n        \"listing_id\": \"2efca23d-f077-4477-8830-cc7143c49173\",\n        \"external_id\": \"1001\",\n        \"listing_type\": \"category\",\n        \"show_in_breadcrumbs\": true,\n        \"show_in_quicklinks\": true,\n        \"title\": \"Clothes\",\n        \"slug\": \"mens-cloths\",\n        \"children\": [\n            {\n                \"listing_id\": \"06b234cf-ce21-4252-90e6-db47246b1d98\",\n                \"external_id\": \"1011\",\n                \"listing_type\": \"category\",\n                \"show_in_breadcrumbs\": true,\n                \"show_in_quicklinks\": true,\n                \"title\": \"Suits\",\n                \"slug\": \"mens-suits\",\n                \"children\": []\n            },\n            {\n                \"listing_id\": \"1e648857-4aad-4606-9e7a-5290cb3576e5\",\n                \"external_id\": \"1012\",\n                \"listing_type\": \"category\",\n                \"show_in_breadcrumbs\": true,\n                \"show_in_quicklinks\": true,\n                \"title\": \"Shirts\",\n                \"slug\": \"mens-shirts\",\n                \"children\": []\n            }\n        ]\n    }\n]\n</pre>","operationId":"Get_Listings_v3_listings_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"merchant","in":"query","required":true,"schema":{"type":"string","title":"Merchant"}},{"name":"market","in":"query","required":true,"schema":{"type":"string","title":"Market"}},{"name":"locale","in":"query","required":true,"schema":{"type":"string","title":"Locale"}},{"name":"types","in":"query","required":false,"schema":{"type":"array","items":{"$ref":"#/components/schemas/CollectionType"},"default":[],"title":"Types"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ListListingsResponseItem"},"title":"Response Get Listings V3 Listings Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/listings/external_id/{external_id}":{"get":{"tags":["Listing (v3)"],"summary":"Get Listing Via External Id","description":"Returns a single listing, including its ancestors, siblings and children. Listings can be queried by either their Depict ID,\nor \"external\" ID, which is the ID used by the merchant's system (ie Shopify, Centra, WooCommerce, etc) to refer to the listing.\n\nUseful for showing breadcrumbs and other navigation elements while showing a product listing page.\n\nExample response:\n<pre>\n{\n    \"listing_id\": \"06b234cf-ce21-4252-90e6-db47246b1d98\",\n    \"external_id\": \"1011\",\n    \"listing_type\": \"category\",\n    \"show_in_breadcrumbs\": true,\n    \"show_in_quicklinks\": true,\n    \"title\": \"Suits\",\n    \"slug\": \"mens-suits\",\n    \"ancestors\": [\n        {\n            \"listing_id\": \"2efca23d-f077-4477-8830-cc7143c49173\",\n            \"external_id\": \"1001\",\n            \"listing_type\": \"category\",\n            \"show_in_breadcrumbs\": true,\n            \"show_in_quicklinks\": true,\n            \"title\": \"Clothes\",\n            \"slug\": \"mens-cloths\"\n        }\n    ],\n    \"siblings\": [\n        {\n            \"listing_id\": \"1e648857-4aad-4606-9e7a-5290cb3576e5\",\n            \"external_id\": \"1012\",\n            \"listing_type\": \"category\",\n            \"show_in_breadcrumbs\": true,\n            \"show_in_quicklinks\": true,\n            \"title\": \"Shirts\",\n            \"slug\": \"mens-shirts\"\n        }\n    ],\n    \"children\": []\n}\n</pre>","operationId":"Get_Listing_via_External_ID_v3_listings_external_id__external_id__get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"external_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id"}},{"name":"merchant","in":"query","required":true,"schema":{"type":"string","title":"Merchant"}},{"name":"market","in":"query","required":true,"schema":{"type":"string","title":"Market"}},{"name":"locale","in":"query","required":true,"schema":{"type":"string","title":"Locale"}},{"name":"listing_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Listing Id"}},{"name":"session_id","in":"query","required":false,"schema":{"type":"string","default":"","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetListingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/listings/{listing_id}":{"get":{"tags":["Listing (v3)"],"summary":"Get Listing","description":"Returns a single listing, including its ancestors, siblings and children. Listings can be queried by either their Depict ID,\nor \"external\" ID, which is the ID used by the merchant's system (ie Shopify, Centra, WooCommerce, etc) to refer to the listing.\n\nUseful for showing breadcrumbs and other navigation elements while showing a product listing page.\n\nExample response:\n<pre>\n{\n    \"listing_id\": \"06b234cf-ce21-4252-90e6-db47246b1d98\",\n    \"external_id\": \"1011\",\n    \"listing_type\": \"category\",\n    \"show_in_breadcrumbs\": true,\n    \"show_in_quicklinks\": true,\n    \"title\": \"Suits\",\n    \"slug\": \"mens-suits\",\n    \"ancestors\": [\n        {\n            \"listing_id\": \"2efca23d-f077-4477-8830-cc7143c49173\",\n            \"external_id\": \"1001\",\n            \"listing_type\": \"category\",\n            \"show_in_breadcrumbs\": true,\n            \"show_in_quicklinks\": true,\n            \"title\": \"Clothes\",\n            \"slug\": \"mens-cloths\"\n        }\n    ],\n    \"siblings\": [\n        {\n            \"listing_id\": \"1e648857-4aad-4606-9e7a-5290cb3576e5\",\n            \"external_id\": \"1012\",\n            \"listing_type\": \"category\",\n            \"show_in_breadcrumbs\": true,\n            \"show_in_quicklinks\": true,\n            \"title\": \"Shirts\",\n            \"slug\": \"mens-shirts\"\n        }\n    ],\n    \"children\": []\n}\n</pre>","operationId":"Get_Listing_v3_listings__listing_id__get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"listing_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Listing Id"}},{"name":"merchant","in":"query","required":true,"schema":{"type":"string","title":"Merchant"}},{"name":"market","in":"query","required":true,"schema":{"type":"string","title":"Market"}},{"name":"locale","in":"query","required":true,"schema":{"type":"string","title":"Locale"}},{"name":"external_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id"}},{"name":"session_id","in":"query","required":false,"schema":{"type":"string","default":"","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetListingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/listings/external_id/{external_id}/products":{"post":{"tags":["Listing (v3)"],"summary":"Get Products In Listing, Via External Id","description":"Returns products in a listing, optionally filtered. Used for product listing pages.\n\nExample response:\n<pre>\n{\n    \"displays\": [\n        {\n        \"variant_index\": 1,\n        \"variant_displays\": [\n            {\n            \"in_stock\": true,\n            \"original_price\": 1999,\n            \"sale_price\": 1999,\n            \"title\": \"Short Sleeve Polo Shirt\",\n            \"size\": \"210\",\n            \"product_id\": \"1500-10-210\",\n            \"image_urls\": [\n                \"https://example.cdn.com/1.jpg\",\n                \"https://example.cdn.com/2.jpg\",\n                ]\n            },\n            {\n            \"in_stock\": true,\n            \"original_price\": 1999,\n            \"sale_price\": 1999,\n            \"title\": \"Short Sleeve Polo Shirt\",\n            \"size\": \"200\",\n            \"product_id\": \"1500-10-200\",\n            \"image_urls\": [\n                \"https://example.cdn.com/1.jpg\",\n                \"https://example.cdn.com/2.jpg\",\n                ]\n            },\n        ],\n        \"product_listing_result_id\": \"50877e3b-26a4-4ea7-a6e1-1a7696f76f66\"\n        },\n        {\n        \"variant_index\": 0,\n        \"variant_displays\": [\n            {\n            \"in_stock\": false,\n            \"original_price\": 1400,\n            \"sale_price\": 1200,\n            \"title\": \"Collar Polo Shirt\",\n            \"size\": \"210\",\n            \"product_id\": \"1600-10-210\",\n            \"image_urls\": [\n                \"https://example.cdn.com/10.jpg\",\n                \"https://example.cdn.com/11.jpg\",\n                ]\n            }\n        ],\n        \"product_listing_result_id\": \"671740b5-6828-41fc-8a3f-2869993d000c\"\n        }\n    ],\n    \"n_hits\": 2,\n    \"sorts\": [\n        {\n        \"field\": \"_relevance\",\n        \"order\": \"desc\",\n        \"meta\": {\n            \"title\": \"Recommended\",\n            \"values\": [\n            \"desc\"\n            ],\n            \"names\": [\n            \"Recommended\"\n            ]\n        }\n        },\n        {\n        \"field\": \"title\",\n        \"order\": \"asc\",\n        \"meta\": {\n            \"title\": \"Alphabetical, A-Z\",\n            \"values\": [\n            \"asc\"\n            ],\n            \"names\": [\n            \"Alphabetical, A-Z\"\n            ]\n        }\n        },\n        {\n        \"field\": \"title\",\n        \"order\": \"desc\",\n        \"meta\": {\n            \"title\": \"Alphabetical, Z-A\",\n            \"values\": [\n            \"desc\"\n            ],\n            \"names\": [\n            \"Alphabetical, Z-A\"\n            ]\n        }\n        },\n        {\n        \"field\": \"sale_price\",\n        \"order\": \"asc\",\n        \"meta\": {\n            \"title\": \"Price, low to high\",\n            \"values\": [\n            \"asc\"\n            ],\n            \"names\": [\n            \"Price, low to high\"\n            ]\n        }\n        },\n        {\n        \"field\": \"sale_price\",\n        \"order\": \"desc\",\n        \"meta\": {\n            \"title\": \"Price, high to low\",\n            \"values\": [\n            \"desc\"\n            ],\n            \"names\": [\n            \"Price, high to low\"\n            ]\n        }\n        }\n    ],\n    \"filters\": [\n        {\n        \"field\": \"sale_price\",\n        \"op\": \"inrange\",\n        \"data\": [\n            1200,\n            1999\n        ],\n        \"meta\": {\n            \"group_title\": \"Price\",\n            \"type\": \"range\",\n            \"min\": 1200,\n            \"max\": 1999,\n            \"currency\": \"SEK\"\n        },\n        \"id\": \"price0\"\n        },\n        {\n        \"field\": \"size_name\",\n        \"op\": \"in\",\n        \"meta\": {\n            \"group_title\": \"Size\",\n            \"type\": \"checkbox-grid\",\n            \"values\": [\n            \"200\",\n            \"210\",\n            ],\n            \"counts\": [\n            1,\n            2\n            ]\n        },\n        \"id\": \"size1\"\n        }\n    ],\n    \"product_listing_request_id\": \"4bf1eeb0-0b0a-4b0e-9b0a-0a0b0a0b0a0b\",\n    \"cursor\": \"eyJjIjogMjAsICJyIjogMjB9\"\n    }\n</pre>","operationId":"Get_Products_in_Listing__via_external_ID_v3_listings_external_id__external_id__products_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"external_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id"}},{"name":"listing_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Listing Id"}},{"name":"x-use-db-display-store","in":"header","required":false,"schema":{"type":"boolean","default":false,"title":"X-Use-Db-Display-Store"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListingRequestV3"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListingResponseV3"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/listings/{listing_id}/products":{"post":{"tags":["Listing (v3)"],"summary":"Get Products In Listing","description":"Returns products in a listing, optionally filtered. Used for product listing pages.\n\nExample response:\n<pre>\n{\n    \"displays\": [\n        {\n        \"variant_index\": 1,\n        \"variant_displays\": [\n            {\n            \"in_stock\": true,\n            \"original_price\": 1999,\n            \"sale_price\": 1999,\n            \"title\": \"Short Sleeve Polo Shirt\",\n            \"size\": \"210\",\n            \"product_id\": \"1500-10-210\",\n            \"image_urls\": [\n                \"https://example.cdn.com/1.jpg\",\n                \"https://example.cdn.com/2.jpg\",\n                ]\n            },\n            {\n            \"in_stock\": true,\n            \"original_price\": 1999,\n            \"sale_price\": 1999,\n            \"title\": \"Short Sleeve Polo Shirt\",\n            \"size\": \"200\",\n            \"product_id\": \"1500-10-200\",\n            \"image_urls\": [\n                \"https://example.cdn.com/1.jpg\",\n                \"https://example.cdn.com/2.jpg\",\n                ]\n            },\n        ],\n        \"product_listing_result_id\": \"50877e3b-26a4-4ea7-a6e1-1a7696f76f66\"\n        },\n        {\n        \"variant_index\": 0,\n        \"variant_displays\": [\n            {\n            \"in_stock\": false,\n            \"original_price\": 1400,\n            \"sale_price\": 1200,\n            \"title\": \"Collar Polo Shirt\",\n            \"size\": \"210\",\n            \"product_id\": \"1600-10-210\",\n            \"image_urls\": [\n                \"https://example.cdn.com/10.jpg\",\n                \"https://example.cdn.com/11.jpg\",\n                ]\n            }\n        ],\n        \"product_listing_result_id\": \"671740b5-6828-41fc-8a3f-2869993d000c\"\n        }\n    ],\n    \"n_hits\": 2,\n    \"sorts\": [\n        {\n        \"field\": \"_relevance\",\n        \"order\": \"desc\",\n        \"meta\": {\n            \"title\": \"Recommended\",\n            \"values\": [\n            \"desc\"\n            ],\n            \"names\": [\n            \"Recommended\"\n            ]\n        }\n        },\n        {\n        \"field\": \"title\",\n        \"order\": \"asc\",\n        \"meta\": {\n            \"title\": \"Alphabetical, A-Z\",\n            \"values\": [\n            \"asc\"\n            ],\n            \"names\": [\n            \"Alphabetical, A-Z\"\n            ]\n        }\n        },\n        {\n        \"field\": \"title\",\n        \"order\": \"desc\",\n        \"meta\": {\n            \"title\": \"Alphabetical, Z-A\",\n            \"values\": [\n            \"desc\"\n            ],\n            \"names\": [\n            \"Alphabetical, Z-A\"\n            ]\n        }\n        },\n        {\n        \"field\": \"sale_price\",\n        \"order\": \"asc\",\n        \"meta\": {\n            \"title\": \"Price, low to high\",\n            \"values\": [\n            \"asc\"\n            ],\n            \"names\": [\n            \"Price, low to high\"\n            ]\n        }\n        },\n        {\n        \"field\": \"sale_price\",\n        \"order\": \"desc\",\n        \"meta\": {\n            \"title\": \"Price, high to low\",\n            \"values\": [\n            \"desc\"\n            ],\n            \"names\": [\n            \"Price, high to low\"\n            ]\n        }\n        }\n    ],\n    \"filters\": [\n        {\n        \"field\": \"sale_price\",\n        \"op\": \"inrange\",\n        \"data\": [\n            1200,\n            1999\n        ],\n        \"meta\": {\n            \"group_title\": \"Price\",\n            \"type\": \"range\",\n            \"min\": 1200,\n            \"max\": 1999,\n            \"currency\": \"SEK\"\n        },\n        \"id\": \"price0\"\n        },\n        {\n        \"field\": \"size_name\",\n        \"op\": \"in\",\n        \"meta\": {\n            \"group_title\": \"Size\",\n            \"type\": \"checkbox-grid\",\n            \"values\": [\n            \"200\",\n            \"210\",\n            ],\n            \"counts\": [\n            1,\n            2\n            ]\n        },\n        \"id\": \"size1\"\n        }\n    ],\n    \"product_listing_request_id\": \"4bf1eeb0-0b0a-4b0e-9b0a-0a0b0a0b0a0b\",\n    \"cursor\": \"eyJjIjogMjAsICJyIjogMjB9\"\n    }\n</pre>","operationId":"Get_Products_in_Listing_v3_listings__listing_id__products_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"listing_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Listing Id"}},{"name":"external_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id"}},{"name":"x-use-db-display-store","in":"header","required":false,"schema":{"type":"boolean","default":false,"title":"X-Use-Db-Display-Store"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListingRequestV3"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListingResponseV3"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/search/results":{"post":{"tags":["Search (v3)"],"summary":"Get Results","description":"Returns products and content that matches a given query, optionally filtered. This is the main search endpoint.\n\nExample response:\n<pre>\n{\n    \"n_hits\": 2,\n    \"sorts\": [\n        {\n        \"field\": \"_relevance\",\n        \"order\": \"desc\",\n        \"meta\": {\n            \"title\": \"Recommended\",\n            \"values\": [\n            \"desc\"\n            ],\n            \"names\": [\n            \"Recommended\"\n            ]\n        }\n        },\n        {\n        \"field\": \"title\",\n        \"order\": \"asc\",\n        \"meta\": {\n            \"title\": \"Alphabetical, A-Z\",\n            \"values\": [\n            \"asc\"\n            ],\n            \"names\": [\n            \"Alphabetical, A-Z\"\n            ]\n        }\n        },\n        {\n        \"field\": \"title\",\n        \"order\": \"desc\",\n        \"meta\": {\n            \"title\": \"Alphabetical, Z-A\",\n            \"values\": [\n            \"desc\"\n            ],\n            \"names\": [\n            \"Alphabetical, Z-A\"\n            ]\n        }\n    ],\n    \"filters\": [\n        {\n        \"field\": \"sale_price\",\n        \"op\": \"inrange\",\n        \"data\": [\n            1200,\n            1999\n        ],\n        \"meta\": {\n            \"group_title\": \"Price\",\n            \"type\": \"range\",\n            \"min\": 1200,\n            \"max\": 1999,\n            \"currency\": \"SEK\"\n        },\n        \"id\": \"price0\"\n        }\n    ],\n    \"search_request_id\": \"4b4bf597-42ee-41e0-92ea-e9db36c00749\",\n    \"cursor\": \"eyJjIjogMjAsICJyIjogMH0=\",\n    \"content_search_links\": [\n        {\n        \"type\": \"content_link\",\n        \"title\": \"Returns\",\n        \"description\": \"\",\n        \"page_url\": \"https://example.shop.com/en_GB/returns\",\n        \"highlights\": [\n            {\n            \"field\": \"title\",\n            \"snippet\": \"<mark>Re</mark>turns\",\n            \"matched_tokens\": [\n                \"Re\"\n            ]\n            }\n        ]\n        }\n    ],\n    \"displays\": [\n        {\n        \"variant_index\": 1,\n        \"variant_displays\": [\n            {\n            \"in_stock\": true,\n            \"original_price\": 1999,\n            \"sale_price\": 1999,\n            \"title\": \"Recycled Polo Shirt\",\n            \"size\": \"210\",\n            \"product_id\": \"1500-10-210\",\n            \"image_urls\": [\n                \"https://example.cdn.com/1.jpg\",\n                \"https://example.cdn.com/2.jpg\",\n                ]\n            },\n            {\n            \"in_stock\": true,\n            \"original_price\": 1999,\n            \"sale_price\": 1999,\n            \"title\": \"Recycled Polo Shirt\",\n            \"size\": \"200\",\n            \"product_id\": \"1500-10-200\",\n            \"image_urls\": [\n                \"https://example.cdn.com/1.jpg\",\n                \"https://example.cdn.com/2.jpg\",\n                ]\n            }\n        ],\n        \"product_listing_result_id\": \"50877e3b-26a4-4ea7-a6e1-1a7696f76f66\"\n        },\n        {\n        \"variant_index\": 0,\n        \"variant_displays\": [\n            {\n            \"in_stock\": false,\n            \"original_price\": 1400,\n            \"sale_price\": 1200,\n            \"title\": \"Collar Polo Shirt\",\n            \"size\": \"210\",\n            \"product_id\": \"1600-10-210\",\n            \"image_urls\": [\n                \"https://example.cdn.com/10.jpg\",\n                \"https://example.cdn.com/11.jpg\",\n                ]\n            }\n        ],\n        \"product_listing_result_id\": \"671740b5-6828-41fc-8a3f-2869993d000c\"\n        }\n    ]\n    }\n</pre>","operationId":"Get_results_v3_search_results_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"x-use-db-display-store","in":"header","required":false,"schema":{"type":"boolean","default":false,"title":"X-Use-Db-Display-Store"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequestV3"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/search/suggestions":{"get":{"tags":["Search (v3)"],"summary":"Get Suggestions","description":"Returns suggestions for a given query. Call this while the user is typing to help\nthe user find what they're looking for. The suggestions are of two types:\n- suggestions for search queries that are related to the current query\n- suggestions for listings that are related to the current query\n\nExample response:\n<pre>\n{\n  \"suggestions_request_id\": \"c6fa5efd-1bde-43a8-9ac4-434605f53024\",\n  \"suggestions\": [\n    {\n      \"type\": \"query\",\n      \"title\": \"red hat\",\n      \"suggestions_result_id\": \"60c54958-8f2d-4ffd-a343-d316e79593b8\"\n    },\n    {\n      \"type\": \"listing\",\n      \"title\": \"Hats\",\n      \"listing_id\": \"b6fa5efd-1bde-43a8-9ac4-434605f53024\",\n      \"external_id\": \"1011\",\n      \"listing_type\": \"category\",\n      \"show_in_breadcrumbs\": true,\n      \"show_in_quicklinks\": true,\n      \"slug\": \"hats\",\n      \"ancestors\": [\n        {\n          \"title\": \"Accessories\",\n          \"listing_id\": \"a6fa5efd-1bde-43a8-9ac4-434605f53024\",\n          \"external_id\": \"1001\",\n          \"listing_type\": \"category\",\n          \"show_in_breadcrumbs\": true,\n          \"show_in_quicklinks\": true,\n          \"slug\": \"accessories\"\n        },\n      ]\n      \"suggestions_result_id\": \"2aafccb2-cd21-4153-94bf-16c4eccefe67\"\n    },\n  ]\n}\n</pre>","operationId":"Get_suggestions_v3_search_suggestions_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"merchant","in":"query","required":true,"schema":{"type":"string","title":"Merchant"}},{"name":"market","in":"query","required":true,"schema":{"type":"string","title":"Market"}},{"name":"locale","in":"query","required":true,"schema":{"type":"string","title":"Locale"}},{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchSuggestionsResponseV3"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/search/related":{"post":{"tags":["Search (v3)"],"summary":"Get Related Recommendations","description":"Returns recommendations for products related to the search query. Note that this\nendpoint takes the same request body as the `/v3/search/results` endpoint, excluding\nthe pagination parameters. It should be called once the user has exhausted the\nsearch results for their query and the recommended products are typically shown\nbelow the search results.","operationId":"Get_related_recommendations_v3_search_related_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"x-use-db-display-store","in":"header","required":false,"schema":{"type":"boolean","default":false,"title":"X-Use-Db-Display-Store"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseSearchRequestV3"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/recommend/products":{"post":{"tags":["Recommendations (v3)"],"summary":"Recommendations","operationId":"Recommendations_v3_recommend_products_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"referer","in":"header","required":false,"schema":{"type":"string","title":"Referer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendRequestV3"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendResponseV3"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/get-displays":{"post":{"tags":["Other (v3)"],"summary":"Get Displays","operationId":"get_displays_v3_get_displays_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDisplaysRequestV3"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}]}},"/v3/markets":{"get":{"tags":["Other (v3)"],"summary":"Get Markets","operationId":"get_markets_v3_markets_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"merchant","in":"query","required":true,"schema":{"type":"string","title":"Merchant"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v3/locales":{"get":{"tags":["Other (v3)"],"summary":"Get Locales","operationId":"get_locales_v3_locales_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"merchant","in":"query","required":true,"schema":{"type":"string","title":"Merchant"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/product-listing":{"post":{"tags":["Listing (v2)"],"summary":"Get Products","operationId":"Get_Products_v2_product_listing_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"x-use-db-display-store","in":"header","required":false,"schema":{"type":"boolean","default":false,"title":"X-Use-Db-Display-Store"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListingRequestV2"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListingResponseV2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/search/results":{"post":{"tags":["Search (v2)"],"summary":"Get Results","description":"Used to get search results that match the given query. Has support for filtering and\nsorting.\n\nExample response:\n<pre>\n{\n   \"n_hits\": 1,\n   \"displays\": [\n     {\n         \"product_id\": \"foobar\",\n         \"title\": \"Foobar\"\n     }\n   ],\n   \"sorts\": [\n     {\n       \"field\": \"_relevance\",\n       \"order\": \"desc\",\n       \"meta\": {\n         \"title\": \"Relevance\",\n         \"values\": [\n           \"desc\"\n         ],\n         \"names\": [\n           \"Relevance\"\n         ]\n       }\n     },\n     {\n       \"field\": \"title\",\n       \"order\": \"asc\",\n       \"meta\": {\n         \"title\": \"Title\",\n         \"values\": [\n           \"asc\",\n           \"desc\"\n         ],\n         \"names\": [\n           \"A-Z\",\n           \"Z-A\"\n         ]\n       }\n     }\n   ],\n   \"filters\": [\n     {\n       \"field\": \"sale_price\",\n       \"op\": \"inrange\",\n       \"data\": [\n         0,\n         2500\n       ],\n       \"meta\": {\n         \"group_title\": \"Price\",\n         \"type\": \"range\",\n         \"min\": 0,\n         \"max\": 2500,\n         \"currency\": \"EUR\"\n       },\n       \"id\": \"price0\"\n     },\n     {\n       \"field\": \"color_name\",\n       \"op\": \"in\",\n       \"meta\": {\n         \"group_title\": \"Color\",\n         \"type\": \"checkbox\",\n         \"values\": [\n           \"Blue\",\n           \"Black\",\n           \"Brown\"\n         ]\n       },\n       \"id\": \"colors1\"\n     }\n   ],\n   \"search_request_id\": \"1a278f4a-16eb-4d95-a002-88bd305493d4\",\n   \"cursor\": \"eyJjIjogMSwgInIiOiAwfQ==\"\n }\n </pre>\n\n Example request body for applying a filter:\n <pre>\n {\n    \"tenant\": \"foobar\"\n    \"market\": \"en\",\n    \"limit\": 20,\n    \"query\": \"hoodie\",\n    \"filters\": [\n        {\n            \"field\": \"color_name\",\n            \"op\": \"in\",\n            \"data\": [\"Blue\"]\n        }\n    ]\n }\n </pre>","operationId":"Get_results_v2_search_results_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"x-use-db-display-store","in":"header","required":false,"schema":{"type":"boolean","default":false,"title":"X-Use-Db-Display-Store"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequestV2"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/search/suggestions":{"get":{"tags":["Search (v2)"],"summary":"Get Suggestions","description":"Returns suggestions for a given query. Call this while the user is typing to help\nthe user find what they're looking for. The suggestions are of two types:\n- suggestions for search queries that are related to the current query\n- suggestions for categories that are related to the current query\n\nExample response:\n<pre>\n{\n  \"suggestions_request_id\": \"c6fa5efd-1bde-43a8-9ac4-434605f53024\",\n  \"suggestions\": [\n    {\n      \"type\": \"query\",\n      \"title\": \"red hat\",\n      \"suggestions_result_id\": \"60c54958-8f2d-4ffd-a343-d316e79593b8\"\n    },\n    {\n      \"category_id\": \"sweaters-hoodies\",\n      \"title\": \"Sweaters & Hoodies\",\n      \"page_url\": \"https://foobar.com/sweaters-hoodies\",\n      \"type\": \"category\",\n      \"suggestions_result_id\": \"b11ee4a9-0d95-4559-b1fa-76479ca3e3ea\"\n    }\n  ]\n}\n</pre>","operationId":"Get_suggestions_v2_search_suggestions_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"tenant","in":"query","required":true,"schema":{"type":"string","title":"Tenant"}},{"name":"market","in":"query","required":true,"schema":{"type":"string","title":"Market"}},{"name":"locale","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale"}},{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"User Id"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id"}},{"name":"dsid","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid"}},{"name":"metadata","in":"query","required":false,"schema":{"anyOf":[{},{"type":"null"}],"title":"Metadata"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchSuggestionsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/search/related":{"post":{"tags":["Search (v2)"],"summary":"Get Related Recommendations","description":"Returns recommendations for products related to the search query. Note that this\nendpoint takes the same request body as the `/v2/search/results` endpoint, excluding\nthe pagination parameters. It should be called once the user has exhausted the\nsearch results for their query and the recommended products are typically shown\nbelow the search results.","operationId":"Get_related_recommendations_v2_search_related_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"x-use-db-display-store","in":"header","required":false,"schema":{"type":"boolean","default":false,"title":"X-Use-Db-Display-Store"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseSearchRequestV2"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/search/content":{"get":{"tags":["Search (v2)"],"summary":"Search Through Text Content","description":"(EXPERIMENTAL) Search through text content. The indexed text content is configurable.\n\nExample response:\nWIP\n</pre>","operationId":"Search_through_text_content_v2_search_content_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"tenant","in":"query","required":true,"schema":{"type":"string","title":"Tenant"}},{"name":"market","in":"query","required":true,"schema":{"type":"string","title":"Market"}},{"name":"locale","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale"}},{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"User Id"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id"}},{"name":"dsid","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/recommend/products/general":{"post":{"tags":["Recommendations (v2)"],"summary":"Recommend For User","description":"Returns an object with an array of recommendation displays.\n\nEach display will contain a recommendation_id (which is also present as a URL parameter in `display.page_url`).\nThe recommendation_id should be sent to the `create-events` endpoint if the user interacts with the recommendation.\nThis is typically achieved by storing the recommendation as a data attribute on the HTML element containing the recommendation.\n\nExample response:\n<pre>\n{\n    \"displays\": [{\n        \"title\": \"Mechanical Keyboard\",\n        \"price\": \"100.00\",\n        \"image_url\": \"https://my_store.com/awesome_mechanical_keyboard.jpeg\",\n        \"page_url\": \"https://my_store.com/awesome_mechanical_keyboard.html\",\n        \"product_id\": \"awesome_mechanical_keyboard\",\n        \"recommendation_id\": \"827ada29-92e7-4642-8805-8b7105a9c8a5\"\n    }]\n}\n</pre>","operationId":"Recommend_for_User_v2_recommend_products_general_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"referer","in":"header","required":false,"schema":{"type":"string","title":"Referer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeneralRecommendRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/recommend/products/product":{"post":{"tags":["Recommendations (v2)"],"summary":"Recommend For Product And User","description":"Returns an object with an array of recommendation displays.\n\nEach display will contain a recommendation_id (which is also present as a URL parameter in `display.page_url`).\nThe recommendation_id should be sent to the `create-events` endpoint if the user interacts with the recommendation.\nThis is typically achieved by storing the recommendation as a data attribute on the HTML element containing the recommendation.\n\nExample response:\n<pre>\n{\n    \"displays\": [{\n        \"title\": \"Mechanical Keyboard\",\n        \"price\": \"100.00\",\n        \"image_url\": \"https://my_store.com/awesome_mechanical_keyboard.jpeg\",\n        \"page_url\": \"https://my_store.com/awesome_mechanical_keyboard.html\",\n        \"product_id\": \"awesome_mechanical_keyboard\",\n        \"recommendation_id\": \"827ada29-92e7-4642-8805-8b7105a9c8a5\"\n    }]\n}\n</pre>","operationId":"Recommend_for_Product_and_User_v2_recommend_products_product_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"referer","in":"header","required":false,"schema":{"type":"string","title":"Referer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/recommend/products/category":{"post":{"tags":["Recommendations (v2)"],"summary":"Recommend For Category And User","description":"Returns an object with an array of recommendation displays.\n\nEach display will contain a recommendation_id (which is also present as a URL parameter in `display.page_url`).\nThe recommendation_id should be sent to the `create-events` endpoint if the user interacts with the recommendation.\nThis is typically achieved by storing the recommendation as a data attribute on the HTML element containing the recommendation.\n\nExample response:\n\n<pre>\n{\n    \"displays\": [{\n        \"title\": \"Mechanical Keyboard\",\n        \"price\": \"100.00\",\n        \"image_url\": \"https://my_store.com/awesome_mechanical_keyboard.jpeg\",\n        \"page_url\": \"https://my_store.com/awesome_mechanical_keyboard.html\",\n        \"product_id\": \"awesome_mechanical_keyboard\",\n        \"recommendation_id\": \"827ada29-92e7-4642-8804-8b7105a9c8a5\"\n    }]\n}\n</pre>","operationId":"Recommend_for_Category_and_User_v2_recommend_products_category_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"referer","in":"header","required":false,"schema":{"type":"string","title":"Referer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryRecommendRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/recommend/products/products":{"post":{"tags":["Recommendations (v2)"],"summary":"Recommend For Products And User","description":"Returns an object with an array of recommendation displays.\n\nEach display will contain a recommendation_id (which is also present as a URL parameter in `display.page_url`).\nThe recommendation_id should be sent to the `create-events` endpoint if the user interacts with the recommendation.\nThis is typically achieved by storing the recommendation as a data attribute on the HTML element containing the recommendation.\n\nExample response:\n<pre>\n{\n    \"displays\": [{\n        \"title\": \"Mechanical Keyboard\",\n        \"price\": \"100.00\",\n        \"image_url\": \"https://my_store.com/awesome_mechanical_keyboard.jpeg\",\n        \"page_url\": \"https://my_store.com/awesome_mechanical_keyboard.html\",\n        \"product_id\": \"awesome_mechanical_keyboard\",\n        \"recommendation_id\": \"827ada29-92e7-4642-8805-8b7105a9c8a5\"\n    }]\n}\n</pre>","operationId":"Recommend_for_Products_and_User_v2_recommend_products_products_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"referer","in":"header","required":false,"schema":{"type":"string","title":"Referer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendForManyRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/create-events":{"post":{"tags":["Events (v2)"],"summary":"Create Events","description":"There are 5 types of events:\n- page_view\n- click\n- add_to_cart\n- purchase\n- element_visible\n\nFor most integrations, we recommend sending `add_to_cart` events. Note that most of the event fields are not mandatory.\nSee more details about each event field below.\n\nFor events of type `click` the `recommendation_id` for the clicked recommendation (which is returned from the `/recommend` endpoint)\nshould be set if available.\n\n\nExamples requests:\n\n<pre>\n[{\n    \"tenant\": \"my_store\",\n    \"market\": \"us\",\n    <mark>\"type\": \"page_view\",</mark>\n    \"user_id\": \"GA1.2.00000000.0000000000\",\n    \"url\": \"https://my_store.com/awesome_mechanical_keyboard.html\",\n    \"product_id\": \"BLA-KEY-XXX\",\n    \"entity_identifiers\": {\n        \"sku\": \"31415\"\n    },\n    \"entity_price\": \"100$\",\n    \"document_width\": \"300\"\n}]\n</pre>\n<pre>\n[{\n    \"tenant\": \"my_store\",\n    \"market\": \"us\",\n    <mark>\"type\": \"click\",</mark>\n    \"user_id\": \"ga1.2.00000000.0000000000\",\n    \"url\": \"https://my_store.com/awesome_mechanical_keyboard.html\",\n    \"product_id\": \"bla-key-xxx\",\n    \"entity_identifiers\": {\n        \"sku\": \"31415\"\n    },\n    \"entity_price\": \"100$\",\n    \"document_width\": \"300\",\n    <mark>\"recommendation_id\": \"827ada29-92e7-4642-8805-8b7105a9c8a5\",</mark>\n    <mark>\"click_location\": \"landing_page_recommendation_1\"</mark>\n}]\n</pre>\n\n\n<details>\n  <summary>View more examples</summary>\n<pre>\n[{\n    \"tenant\": \"my_store\",\n    \"market\": \"us\",\n    <mark>\"type\": \"add_to_cart\",</mark>\n    \"user_id\": \"GA1.2.00000000.0000000000\",\n    \"url\": \"https://my_store.com/awesome_mechanical_keyboard.html\",\n    \"product_id\": \"BLA-KEY-XXX\",\n    \"entity_identifiers\": {\n        \"sku\": \"31415\"\n    },\n    \"entity_price\": \"100$\",\n    \"document_width\": \"300\"\n}]\n</pre>\n<pre>\n[{\n    \"tenant\": \"my_store\",\n    \"market\": \"us\",\n    <mark>\"type\": \"purchase\",</mark>\n    \"user_id\": \"GA1.2.00000000.0000000000\",\n    \"url\": \"https://my_store.com/checkout.html\",\n    \"product_id\": \"BLA-KEY-XXX\",\n    \"entity_identifiers\": {\n        \"sku\": \"31415\"\n    },\n    \"entity_price\": \"100$\",\n    \"document_width\": \"300\"\n}]\n</pre>\n<pre>\n[{\n    \"tenant\": \"my_store\",\n    \"market\": \"us\",\n    <mark>\"type\": \"element_visible\",</mark>\n    \"user_id\": \"GA1.2.00000000.0000000000\",\n    \"url\": \"https://my_store.com/checkout.html\",\n    \"product_id\": \"BLA-KEY-XXX\",\n    \"entity_identifiers\": {\n        \"sku\": \"31415\"\n    },\n    \"entity_price\": \"100$\",\n    \"document_width\": \"300\",\n    <mark>\"recommendation_id\": \"827ada29-92e7-4642-8805-8b7105a9c8a5\"</mark>\n}]\n</pre>\n</details>","operationId":"create_events_create_events_post","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}],"parameters":[{"name":"referer","in":"header","required":false,"schema":{"type":"string","title":"Referer"}},{"name":"user-agent","in":"header","required":false,"schema":{"type":"string","title":"User-Agent"}},{"name":"x-forwarded-for","in":"header","required":false,"schema":{"type":"string","title":"X-Forwarded-For"}},{"name":"x-forwarded-host","in":"header","required":false,"schema":{"type":"string","title":"X-Forwarded-Host"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Event"},"title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v2/track":{"post":{"tags":["Events (v2)"],"summary":"Track V2","operationId":"track_v2_v2_track_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackV2Request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true,"security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}]}},"/v2/create-events":{"post":{"tags":["Events (v2)"],"summary":"Create Events V2","operationId":"create_events_v2_v2_create_events_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackV2Request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]},{"APIKeyCookie":[]}]}},"/catalog/v0/product_ids":{"get":{"tags":["Catalog Push API (v0)"],"summary":"List Product Ids","operationId":"list_product_ids_catalog_v0_product_ids_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response List Product Ids Catalog V0 Product Ids Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/catalog/v0/category_ids":{"get":{"tags":["Catalog Push API (v0)"],"summary":"List Category Ids","operationId":"list_category_ids_catalog_v0_category_ids_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response List Category Ids Catalog V0 Category Ids Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/catalog/v0/products":{"get":{"tags":["Catalog Push API (v0)"],"summary":"Get Products","operationId":"get_products_catalog_v0_products_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_ids","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"},"title":"Product Ids"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/APIProduct-Output"},"title":"Response Get Products Catalog V0 Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Catalog Push API (v0)"],"summary":"Upsert Products","operationId":"upsert_products_catalog_v0_products_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertProductsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Catalog Push API (v0)"],"summary":"Delete Products","operationId":"delete_products_catalog_v0_products_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"},"title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/catalog/v0/categories":{"get":{"tags":["Catalog Push API (v0)"],"summary":"Get Categories","operationId":"get_categories_catalog_v0_categories_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_ids","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"},"title":"Category Ids"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/APICategory-Output"},"title":"Response Get Categories Catalog V0 Categories Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Catalog Push API (v0)"],"summary":"Upsert Categories","operationId":"upsert_categories_catalog_v0_categories_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertCategoriesRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Catalog Push API (v0)"],"summary":"Delete Categories","operationId":"delete_categories_catalog_v0_categories_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category_id","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"},"title":"Category Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/catalog/v0/product_attribute_config":{"get":{"tags":["Catalog Push API (v0)"],"summary":"Get Product Attribute Config","operationId":"get_product_attribute_config_catalog_v0_product_attribute_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"$ref":"#/components/schemas/AttributeMetadata"},"type":"object","title":"Response Get Product Attribute Config Catalog V0 Product Attribute Config Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Catalog Push API (v0)"],"summary":"Set Product Attribute Config","operationId":"set_product_attribute_config_catalog_v0_product_attribute_config_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetProductAttributeConfigRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/catalog/v0/category_attribute_config":{"get":{"tags":["Catalog Push API (v0)"],"summary":"Get Category Attribute Config","operationId":"get_category_attribute_config_catalog_v0_category_attribute_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"$ref":"#/components/schemas/AttributeMetadata"},"type":"object","title":"Response Get Category Attribute Config Catalog V0 Category Attribute Config Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Catalog Push API (v0)"],"summary":"Set Category Attribute Config","operationId":"set_category_attribute_config_catalog_v0_category_attribute_config_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetCatalogAttributeConfigRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"APICategory-Input":{"properties":{"category_id":{"type":"string","title":"Category Id"},"parent_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Id"},"locale_attributes":{"items":{"$ref":"#/components/schemas/realtime__routes__catalog_routes__APICategory__APILocaleAttributes"},"type":"array","title":"Locale Attributes"},"store_attributes":{"title":"Store Attributes"},"display_breadcrumb":{"type":"boolean","title":"Display Breadcrumb","default":true},"appear_in_quicklinks":{"type":"boolean","title":"Appear In Quicklinks","default":false},"show_in_filter":{"type":"boolean","title":"Show In Filter","default":true},"show_in_search_suggestions":{"type":"boolean","title":"Show In Search Suggestions","default":true}},"additionalProperties":false,"type":"object","required":["category_id","locale_attributes"],"title":"APICategory"},"APICategory-Output":{"type":"object","title":"APICategory"},"APIDisplay":{"properties":{"variant_index":{"type":"integer","title":"Variant Index"},"variant_displays":{"items":{"type":"object"},"type":"array","title":"Variant Displays"},"variant_skus":{"items":{"type":"string"},"type":"array","title":"Variant Skus"},"variant_product_ids":{"items":{"type":"string"},"type":"array","title":"Variant Product Ids"}},"type":"object","required":["variant_index","variant_displays","variant_skus","variant_product_ids"],"title":"APIDisplay"},"APIInventoryAttributes":{"properties":{"inventory_id":{"type":"string","title":"Inventory Id"},"in_stock":{"type":"boolean","title":"In Stock"},"quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quantity"},"custom_attributes":{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object","title":"Custom Attributes","default":{}}},"additionalProperties":false,"type":"object","required":["inventory_id","in_stock"],"title":"APIInventoryAttributes"},"APIPricelistAttributes":{"properties":{"pricelist_id":{"type":"string","title":"Pricelist Id"},"sale_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Sale Price"},"original_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Original Price"},"currency":{"type":"string","pattern":"^AED|AFN|ALL|AMD|ANG|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTN|BWP|BYR|BZD|CAD|CDF|CHF|CLP|CNY|COP|CRC|CUC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRO|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SPL|SRD|STD|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TVD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VEF|VND|VUV|WST|XAF|XCD|XDR|XOF|XPF|YER|ZAR|ZMW|ZWD$","title":"Currency"},"custom_attributes":{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object","title":"Custom Attributes","default":{}}},"additionalProperties":false,"type":"object","required":["pricelist_id","sale_price","original_price","currency"],"title":"APIPricelistAttributes"},"APIProduct-Input":{"properties":{"product_id":{"type":"string","title":"Product Id"},"item_group_id":{"type":"string","title":"Item Group Id"},"main_product_id":{"type":"string","title":"Main Product Id"},"image_urls":{"items":{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},"type":"array","minItems":1,"title":"Image Urls"},"category_ids":{"items":{"type":"string"},"type":"array","title":"Category Ids"},"brand":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Brand"},"inactive":{"type":"boolean","title":"Inactive","default":false},"transaction_product_id":{"type":"string","title":"Transaction Product Id","description":"The id by which this product is known in the order data in Google Analytics. Merchants should use the same id for the DPC purchase events."},"locale_attributes":{"items":{"$ref":"#/components/schemas/realtime__routes__catalog_routes__APIProduct__APILocaleAttributes"},"type":"array","title":"Locale Attributes"},"inventory_attributes":{"items":{"$ref":"#/components/schemas/APIInventoryAttributes"},"type":"array","title":"Inventory Attributes"},"store_attributes":{"title":"Store Attributes"},"pricelist_attributes":{"items":{"$ref":"#/components/schemas/APIPricelistAttributes"},"type":"array","title":"Pricelist Attributes"},"gender":{"anyOf":[{"$ref":"#/components/schemas/Gender"},{"type":"null"}]},"age":{"anyOf":[{"$ref":"#/components/schemas/Age"},{"type":"null"}]},"size":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Size"},"is_second_hand":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Second Hand"},"color_hex":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Hex"},"custom_attributes":{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object","title":"Custom Attributes","default":{}}},"additionalProperties":false,"type":"object","required":["product_id","item_group_id","main_product_id","image_urls","category_ids","transaction_product_id","locale_attributes","inventory_attributes","pricelist_attributes"],"title":"APIProduct"},"APIProduct-Output":{"type":"object","title":"APIProduct"},"Age":{"type":"string","enum":["baby","kid","teen","adult"],"title":"Age"},"AttributeConfig":{"properties":{"attribute_type":{"$ref":"#/components/schemas/AttributeType"},"dimension":{"$ref":"#/components/schemas/Dimension"},"required":{"type":"boolean","title":"Required","default":true}},"additionalProperties":false,"type":"object","required":["attribute_type","dimension"],"title":"AttributeConfig","description":"The configuration of an attribute, available before ingestion"},"AttributeMetadata":{"properties":{"attribute_type":{"$ref":"#/components/schemas/AttributeType"},"dimension":{"$ref":"#/components/schemas/Dimension"},"required":{"type":"boolean","title":"Required","default":true},"dimension_keys":{"items":{"type":"string"},"type":"array","uniqueItems":true,"title":"Dimension Keys"}},"additionalProperties":false,"type":"object","required":["attribute_type","dimension","dimension_keys"],"title":"AttributeMetadata","description":"Full information about an attribute, generated during ingestion"},"AttributeType":{"type":"string","enum":["bool","int","float","str","datetime","gender","age","color_hex","dict[str,]","list[bool]","list[int]","list[float]","list[str]","list[dict[str,]]","any","uuid","list[uuid]"],"title":"AttributeType"},"BaseCategoryDisplay":{"properties":{"category_id":{"type":"string","title":"Category Id","description":"Unique identifier of the category."},"title":{"type":"string","title":"Title","description":"The title of the category"},"page_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Page Url","description":"The full URL to the category page"},"query_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query Id","description":"Optionally a unique query ID for the category"},"uri":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uri","description":"Optionally a unique URI for the category, for example men/shoes"},"category_type":{"allOf":[{"$ref":"#/components/schemas/ECategoryType"}],"description":"The type of category, for example CAMPAIGN, TAG, or CATEGORY","default":"CATEGORY"}},"additionalProperties":false,"type":"object","required":["category_id","title"],"title":"BaseCategoryDisplay"},"BaseSearchRequestV2":{"properties":{"market":{"type":"string","title":"Market"},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"List of filters to apply to the results."},"sort":{"anyOf":[{"$ref":"#/components/schemas/SortModel-Input"},{"type":"null"}],"description":"Specifies the sorting method. By default, the results are ordered by relevance. To find the possible values for this field, query the endpoint and look at the `sorts` field."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the search."},"tenant":{"type":"string","title":"Tenant"},"locale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale","description":"The locale to use for the search. If not set, the default locale will be used."},"user_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"User Id","description":"User identifier"},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id"},"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query","description":"The search query."}},"additionalProperties":false,"type":"object","required":["market","tenant"],"title":"BaseSearchRequestV2"},"BaseSearchRequestV3":{"properties":{"market":{"type":"string","title":"Market"},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"List of filters to apply to the results."},"sort":{"anyOf":[{"$ref":"#/components/schemas/SortModel-Input"},{"type":"null"}],"description":"Specifies the sorting method. By default, the results are ordered by relevance. To find the possible values for this field, query the endpoint and look at the `sorts` field."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the search."},"merchant":{"type":"string","title":"Merchant"},"locale":{"type":"string","title":"Locale"},"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query","description":"The search query."}},"additionalProperties":false,"type":"object","required":["market","merchant","locale"],"title":"BaseSearchRequestV3"},"CategoryRecommendRequest":{"properties":{"tenant":{"type":"string","title":"Tenant","description":"Identifier associated with the API integration"},"market":{"type":"string","title":"Market","description":"Market identifier"},"locale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale","description":"Locale identifier"},"type":{"type":"string","title":"Type","description":"Type of the recommendation, e.g. `cross_sell`"},"limit":{"anyOf":[{"type":"integer","maximum":128.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of recommendations returned."},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"Customer identifier"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id"},"document_referrer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Referrer"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the recommendation system"},"category_id":{"type":"string","title":"Category Id"}},"additionalProperties":false,"type":"object","required":["tenant","market","type","category_id"],"title":"CategoryRecommendRequest"},"ChunkType":{"type":"string","enum":["similar","complementary"],"title":"ChunkType"},"CollectionType":{"type":"string","enum":["long_tail_collection","campaign","category","smart_pick","style","brand"],"title":"CollectionType"},"ContentLink":{"properties":{"type":{"const":"content_link","title":"Type","default":"content_link"},"title":{"type":"string","title":"Title","description":"Title for the content page"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Short human-readable description for the content page"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url","description":"URL for the content page image"},"page_url":{"type":"string","title":"Page Url","description":"URL for the content page"},"highlights":{"items":{"$ref":"#/components/schemas/TypesenseHighlights"},"type":"array","title":"Highlights","description":"Highlights that show why the search query matched this content page"}},"additionalProperties":false,"type":"object","required":["title","description","page_url"],"title":"ContentLink"},"ContentSearchResponse":{"properties":{"content_request_id":{"type":"string","title":"Content Request Id"},"links":{"items":{"$ref":"#/components/schemas/ContentLink"},"type":"array","title":"Links","description":"List of links to content pages that match the search query."}},"additionalProperties":false,"type":"object","required":["content_request_id","links"],"title":"ContentSearchResponse"},"Dimension":{"type":"string","enum":["base","inventory","locale","store","pricelist"],"title":"Dimension"},"ECategoryType":{"type":"string","enum":["TAG","CATEGORY","TENANT_CATEGORY","TENANT_SECONDARY_CATEGORY","CAMPAIGN","BRAND"],"title":"ECategoryType"},"EEventType":{"type":"string","enum":["page_view","click","add_to_cart","purchase","element_visible","ws_click","recommendations_inserted"],"title":"EEventType"},"EUnavailabilityType":{"type":"string","enum":["out_of_stock","missing"],"title":"EUnavailabilityType"},"Event":{"properties":{"tenant":{"type":"string","title":"Tenant","description":"Identifier associated with the API integration"},"market":{"type":"string","title":"Market","description":"Market identifier"},"deduplication_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Deduplication Id","description":"If retrying creating events, this should be set to a unique value common across all requests with the same event"},"type":{"allOf":[{"$ref":"#/components/schemas/EEventType"}],"description":"Type of event"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"Customer identifier"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id"},"ab_test_group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ab Test Group","description":"A/B test group identifier. Not required."},"product_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Id","description":"Main product identifier"},"variant_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Variant Ids","description":"Identifiers of variants for this product. Not required."},"entity_identifiers":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Entity Identifiers","description":"Key-value object containing additional identifiers for the product"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"The value of `document.location.href` in the user's browser"},"entity_price":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Entity Price","description":"Current price of product. Not required."},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"Currency of product (ISO 4217 code). Not required."},"document_referrer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Referrer","description":"The value of `document.referrer` in the user's browser"},"document_width":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Width","description":"The value of `document.width` in the user's browser"},"attribution_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Attribution Id","description":"Keyword specifying what led to this event. Not required."},"recommendation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recommendation Id","description":"Unique identifier returned from the `/recommend` endpoint"},"search_result_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search Result Id","description":"Unique identifier of the search result."},"product_listing_result_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Listing Result Id","description":"Unique identifier of the product listing result."},"click_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Click Location","description":"Keyword specifying what element was clicked. Not required."},"page_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Page Url","description":"The URL of the product page visited"},"recommendation_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recommendation Type","description":"The type of recommendations inserted"}},"additionalProperties":false,"type":"object","required":["tenant","market","type"],"title":"Event"},"Gender":{"type":"string","enum":["unisex","men","women"],"title":"Gender"},"GeneralRecommendRequest":{"properties":{"tenant":{"type":"string","title":"Tenant","description":"Identifier associated with the API integration"},"market":{"type":"string","title":"Market","description":"Market identifier"},"locale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale","description":"Locale identifier"},"type":{"type":"string","title":"Type","description":"Type of the recommendation, e.g. `cross_sell`"},"limit":{"anyOf":[{"type":"integer","maximum":128.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of recommendations returned."},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"Customer identifier"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id"},"document_referrer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Referrer"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the recommendation system"}},"additionalProperties":false,"type":"object","required":["tenant","market","type"],"title":"GeneralRecommendRequest"},"GetDisplaysRequestV3":{"properties":{"market":{"type":"string","minLength":1,"title":"Market","description":"Market identifier"},"product_ids":{"items":{"type":"string"},"type":"array","maxItems":50,"minItems":1,"title":"Product Ids"},"merchant":{"type":"string","minLength":1,"title":"Merchant","description":"Identifier associated with the API integration"},"locale":{"type":"string","minLength":1,"title":"Locale","description":"Locale identifier"}},"additionalProperties":false,"type":"object","required":["market","product_ids","merchant","locale"],"title":"GetDisplaysRequestV3"},"GetListingResponse":{"properties":{"listing_id":{"type":"string","format":"uuid","title":"Listing Id","description":"Depict ID of the listing."},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id","description":"ID of the listing in the merchant PIM, CMS or similar."},"listing_type":{"$ref":"#/components/schemas/CollectionType"},"show_in_breadcrumbs":{"type":"boolean","title":"Show In Breadcrumbs","description":"Show or hide this listing in navigation breadcrumbs."},"show_in_quicklinks":{"type":"boolean","title":"Show In Quicklinks","description":"Show or hide this listing in quicklinks."},"image_urls":{"items":{"type":"string"},"type":"array","title":"Image Urls","description":"List of image URLs for the listing."},"title":{"type":"string","title":"Title"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"ancestors":{"items":{"$ref":"#/components/schemas/ProductListing"},"type":"array","title":"Ancestors","description":"Ordered list of ancestors of the listing, useful for navigation breadcrumbs. The first element is the root listing."},"siblings":{"items":{"$ref":"#/components/schemas/ProductListing"},"type":"array","title":"Siblings","description":"Siblings of the listing, i.e. listings that share the same parent, INCLUDING the listing itself. Sortet by title."},"children":{"items":{"$ref":"#/components/schemas/ProductListing"},"type":"array","title":"Children","description":"Children of the listing, i.e. listings that have the listing as their parent. Sorted by title."}},"additionalProperties":false,"type":"object","required":["listing_id","listing_type","show_in_breadcrumbs","show_in_quicklinks","image_urls","title","ancestors","siblings","children"],"title":"GetListingResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HierarchicalValuesFilterMeta":{"properties":{"group_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group Title","description":"Title of the group, where a group consists of all the filters that share an ID."},"group_expanded":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Group Expanded","description":"Whether the filter group should be expanded by default or not."},"type":{"const":"checkbox-hierarchical","title":"Type"},"values":{"items":{"items":{"type":"string"},"type":"array"},"type":"array","title":"Values","description":"Selectable hierarchical values"},"counts":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Counts","description":"Counts for values"},"names":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Names","description":"Names for hierarchical values, this is what you should display in the UI (not values)"}},"additionalProperties":false,"type":"object","required":["type","values"],"title":"HierarchicalValuesFilterMeta"},"LegacyCategorySuggestion":{"properties":{"category_id":{"type":"string","title":"Category Id","description":"Unique identifier of the category."},"title":{"type":"string","title":"Title","description":"The title of the category"},"page_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Page Url","description":"The full URL to the category page"},"query_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query Id","description":"Optionally a unique query ID for the category"},"uri":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uri","description":"Optionally a unique URI for the category, for example men/shoes"},"category_type":{"allOf":[{"$ref":"#/components/schemas/ECategoryType"}],"description":"The type of category, for example CAMPAIGN, TAG, or CATEGORY","default":"CATEGORY"},"type":{"const":"category","title":"Type","description":"type","default":"category"},"suggestions_result_id":{"type":"string","title":"Suggestions Result Id"}},"additionalProperties":true,"type":"object","required":["category_id","title","suggestions_result_id"],"title":"LegacyCategorySuggestion"},"ListListingsResponseItem":{"properties":{"listing_id":{"type":"string","format":"uuid","title":"Listing Id","description":"Depict ID of the listing."},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id","description":"ID of the listing in the merchant PIM, CMS or similar."},"listing_type":{"$ref":"#/components/schemas/CollectionType"},"show_in_breadcrumbs":{"type":"boolean","title":"Show In Breadcrumbs","description":"Show or hide this listing in navigation breadcrumbs."},"show_in_quicklinks":{"type":"boolean","title":"Show In Quicklinks","description":"Show or hide this listing in quicklinks."},"image_urls":{"items":{"type":"string"},"type":"array","title":"Image Urls","description":"List of image URLs for the listing."},"title":{"type":"string","title":"Title"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"children":{"items":{"$ref":"#/components/schemas/ListListingsResponseItem"},"type":"array","title":"Children"}},"additionalProperties":false,"type":"object","required":["listing_id","listing_type","show_in_breadcrumbs","show_in_quicklinks","image_urls","title","children"],"title":"ListListingsResponseItem"},"ListingSuggestion":{"properties":{"listing_id":{"type":"string","format":"uuid","title":"Listing Id","description":"Depict ID of the listing."},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id","description":"ID of the listing in the merchant PIM, CMS or similar."},"listing_type":{"$ref":"#/components/schemas/CollectionType"},"show_in_breadcrumbs":{"type":"boolean","title":"Show In Breadcrumbs","description":"Show or hide this listing in navigation breadcrumbs."},"show_in_quicklinks":{"type":"boolean","title":"Show In Quicklinks","description":"Show or hide this listing in quicklinks."},"image_urls":{"items":{"type":"string"},"type":"array","title":"Image Urls","description":"List of image URLs for the listing."},"title":{"type":"string","title":"Title"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"type":{"const":"listing","title":"Type","default":"listing"},"suggestions_result_id":{"type":"string","title":"Suggestions Result Id"},"ancestors":{"items":{"$ref":"#/components/schemas/ProductListing"},"type":"array","title":"Ancestors","description":"Ordered list of ancestors of the suggested listing, useful for navigation breadcrumbs. The first element is the root listing."}},"additionalProperties":false,"type":"object","required":["listing_id","listing_type","show_in_breadcrumbs","show_in_quicklinks","image_urls","title","suggestions_result_id","ancestors"],"title":"ListingSuggestion"},"PLPMetadata":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"replace_meta_tags":{"type":"boolean","title":"Replace Meta Tags","description":"Whether to replace the page meta tags, e.g., title and description, with the ones from the collection.","default":false}},"type":"object","required":["title"],"title":"PLPMetadata"},"ProductListing":{"properties":{"listing_id":{"type":"string","format":"uuid","title":"Listing Id","description":"Depict ID of the listing."},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id","description":"ID of the listing in the merchant PIM, CMS or similar."},"listing_type":{"$ref":"#/components/schemas/CollectionType"},"show_in_breadcrumbs":{"type":"boolean","title":"Show In Breadcrumbs","description":"Show or hide this listing in navigation breadcrumbs."},"show_in_quicklinks":{"type":"boolean","title":"Show In Quicklinks","description":"Show or hide this listing in quicklinks."},"image_urls":{"items":{"type":"string"},"type":"array","title":"Image Urls","description":"List of image URLs for the listing."},"title":{"type":"string","title":"Title"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"}},"additionalProperties":false,"type":"object","required":["listing_id","listing_type","show_in_breadcrumbs","show_in_quicklinks","image_urls","title"],"title":"ProductListing","description":"Represents a product listing, e.g. a category or a collection."},"ProductListingRequestV2":{"properties":{"cursor":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Cursor","description":"Used for cursor-based pagination. Set it to the cursor from the last response. If not set, will return the first results."},"limit":{"anyOf":[{"type":"integer","maximum":250.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of results per response."},"market":{"type":"string","title":"Market"},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"List of filters to apply to the results."},"sort":{"anyOf":[{"$ref":"#/components/schemas/SortModel-Input"},{"type":"null"}],"description":"Specifies the sorting method. By default, the results are ordered by relevance. To find the possible values for this field, query the endpoint and look at the `sorts` field."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the search."},"tenant":{"type":"string","title":"Tenant"},"locale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale","description":"The locale to use for the search. If not set, the default locale will be used."},"user_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"User Id","description":"User identifier"},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id"},"query_id":{"type":"string","minLength":1,"title":"Query Id","description":"ID of the page to get products for. This is typically the slug, for example `hoodies-and-sweaters`."},"type":{"anyOf":[{"$ref":"#/components/schemas/ProductListingType"},{"type":"null"}],"description":"The type of query. If not set the endpoint will look up query id in the following type order: collections, categories."}},"additionalProperties":false,"type":"object","required":["market","tenant","query_id"],"title":"ProductListingRequestV2"},"ProductListingRequestV3":{"properties":{"cursor":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Cursor","description":"Used for cursor-based pagination. Set it to the cursor from the last response. If not set, will return the first results."},"limit":{"anyOf":[{"type":"integer","maximum":250.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of results per response."},"market":{"type":"string","title":"Market"},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"List of filters to apply to the results."},"sort":{"anyOf":[{"$ref":"#/components/schemas/SortModel-Input"},{"type":"null"}],"description":"Specifies the sorting method. By default, the results are ordered by relevance. To find the possible values for this field, query the endpoint and look at the `sorts` field."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the search."},"merchant":{"type":"string","title":"Merchant"},"locale":{"type":"string","title":"Locale"},"listing_id":{"type":"string","format":"uuid","title":"Listing Id"}},"additionalProperties":false,"type":"object","required":["market","merchant","locale"],"title":"ProductListingRequestV3"},"ProductListingResponseV2":{"properties":{"displays":{"items":{"type":"object"},"type":"array","title":"Displays","description":"The products to be shown on the product listing page."},"n_hits":{"type":"integer","title":"N Hits","description":"Total number of results for this query. Not necessarily exact."},"sorts":{"anyOf":[{"items":{"$ref":"#/components/schemas/SortModel-Output"},"type":"array"},{"type":"null"}],"title":"Sorts","description":"Available methods for sorting the response. Any element from this list can be sent as `sort` in subsequent requests."},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"Available filters that can be used for filtering in the subsequent request."},"product_listing_request_id":{"type":"string","title":"Product Listing Request Id"},"cursor":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Cursor","description":"Cursor that can be used in the next request to get subsequent results. If this is not set, there are no more results."},"breadcrumb":{"anyOf":[{"items":{"$ref":"#/components/schemas/BaseCategoryDisplay"},"type":"array"},{"type":"null"}],"title":"Breadcrumb","description":"Breadcrumb for the current page. Ordered from less to more specific, where the last element is the current page."},"quick_links":{"anyOf":[{"items":{"$ref":"#/components/schemas/BaseCategoryDisplay"},"type":"array"},{"type":"null"}],"title":"Quick Links","description":"List of pages that can be used as quick links. Will return child pages if they exist, otherwise sibling pages."},"metadata":{"anyOf":[{"$ref":"#/components/schemas/PLPMetadata"},{"type":"null"}],"description":"Metadata about the PLP requested, for example Collection/Category title, description, etc."}},"additionalProperties":false,"type":"object","required":["displays","n_hits","product_listing_request_id"],"title":"ProductListingResponseV2"},"ProductListingResponseV3":{"properties":{"displays":{"items":{"type":"object"},"type":"array","title":"Displays","description":"The products to be shown on the product listing page."},"n_hits":{"type":"integer","title":"N Hits","description":"Total number of results for this query. Not necessarily exact."},"sorts":{"anyOf":[{"items":{"$ref":"#/components/schemas/SortModel-Output"},"type":"array"},{"type":"null"}],"title":"Sorts","description":"Available methods for sorting the response. Any element from this list can be sent as `sort` in subsequent requests."},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"Available filters that can be used for filtering in the subsequent request."},"product_listing_request_id":{"type":"string","title":"Product Listing Request Id"},"cursor":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Cursor","description":"Cursor that can be used in the next request to get subsequent results. If this is not set, there are no more results."}},"additionalProperties":false,"type":"object","required":["displays","n_hits","product_listing_request_id"],"title":"ProductListingResponseV3"},"ProductListingType":{"type":"string","enum":["category","collection","scollection"],"title":"ProductListingType"},"ProductUnavailableEvent":{"properties":{"user_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"User Id","description":"User Id. Persistent between devices, typically on a logged in user."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session Id. Unique to a browser/app and stored locally, e.g. cookie or localStorage."},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id."},"event_type":{"const":"product_unavailable","title":"Event Type","description":"The type identifier for this event: product_unavailable."},"product_id":{"type":"string","minLength":1,"title":"Product Id","description":"Main product identifier"},"unavailability_type":{"allOf":[{"$ref":"#/components/schemas/EUnavailabilityType"}],"description":"Reason the product isn't available for purchase"}},"additionalProperties":false,"type":"object","required":["event_type","product_id","unavailability_type"],"title":"ProductUnavailableEvent"},"PurchaseEvent":{"properties":{"user_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"User Id","description":"User Id. Persistent between devices, typically on a logged in user."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session Id. Unique to a browser/app and stored locally, e.g. cookie or localStorage."},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id."},"transaction_id":{"type":"string","minLength":1,"title":"Transaction Id","description":"Unique identifier for the transaction."},"event_type":{"anyOf":[{"const":"purchase"},{"type":"null"}],"title":"Event Type","description":"The type identifier for this event: purchase."},"currency":{"type":"string","pattern":"^AED|AFN|ALL|AMD|ANG|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTN|BWP|BYR|BZD|CAD|CDF|CHF|CLP|CNY|COP|CRC|CUC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRO|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SPL|SRD|STD|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TVD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VEF|VND|VUV|WST|XAF|XCD|XDR|XOF|XPF|YER|ZAR|ZMW|ZWD$","title":"Currency","description":"Currency the purchase was paid in"},"products":{"items":{"$ref":"#/components/schemas/PurchasedProduct"},"type":"array","minItems":1,"title":"Products","description":"All the products purchased in this transaction"}},"additionalProperties":false,"type":"object","required":["transaction_id","currency","products"],"title":"PurchaseEvent"},"PurchasedProduct":{"properties":{"sku":{"type":"string","minLength":1,"title":"Sku","description":"Stock keeping unit, a distinct item for sale. If you are using Google Analytics, it should be the same id used for products there."},"price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Price","description":"Price per unit. If there are discounts because of quantity, the unit price should be adjusted accordingly."},"quantity":{"type":"integer","minimum":1.0,"title":"Quantity","description":"The number of times the product was purchased."}},"additionalProperties":false,"type":"object","required":["sku","price","quantity"],"title":"PurchasedProduct"},"RangeFilterMeta":{"properties":{"group_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group Title","description":"Title of the group, where a group consists of all the filters that share an ID."},"group_expanded":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Group Expanded","description":"Whether the filter group should be expanded by default or not."},"type":{"const":"range","title":"Type"},"min":{"type":"number","title":"Min","description":"The minimum value that can be selected in the range."},"max":{"type":"number","title":"Max","description":"The maximum value that can be selected in the range."},"unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit","description":"The unit of the range values."},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"The currency of the range values."}},"additionalProperties":false,"type":"object","required":["type","min","max"],"title":"RangeFilterMeta"},"RecommendForManyRequest":{"properties":{"tenant":{"type":"string","title":"Tenant","description":"Identifier associated with the API integration"},"market":{"type":"string","title":"Market","description":"Market identifier"},"locale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale","description":"Locale identifier"},"type":{"type":"string","title":"Type","description":"Type of the recommendation, e.g. `cross_sell`"},"limit":{"anyOf":[{"type":"integer","maximum":128.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of recommendations returned."},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"Customer identifier"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id"},"document_referrer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Referrer"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the recommendation system"},"product_ids":{"items":{"type":"string"},"type":"array","title":"Product Ids"}},"additionalProperties":false,"type":"object","required":["tenant","market","type","product_ids"],"title":"RecommendForManyRequest"},"RecommendRequest":{"properties":{"tenant":{"type":"string","title":"Tenant","description":"Identifier associated with the API integration"},"market":{"type":"string","title":"Market","description":"Market identifier"},"locale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale","description":"Locale identifier"},"type":{"type":"string","title":"Type","description":"Type of the recommendation, e.g. `cross_sell`"},"limit":{"anyOf":[{"type":"integer","maximum":128.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of recommendations returned."},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"Customer identifier"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id"},"document_referrer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Referrer"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the recommendation system"},"product_id":{"type":"string","title":"Product Id"}},"additionalProperties":false,"type":"object","required":["tenant","market","type","product_id"],"title":"RecommendRequest"},"RecommendRequestV3":{"properties":{"merchant":{"type":"string","title":"Merchant","description":"Identifier associated with the API integration"},"market":{"type":"string","title":"Market","description":"Market identifier"},"locale":{"type":"string","title":"Locale","description":"Locale identifier"},"type":{"type":"string","title":"Type","description":"Type of the recommendation, e.g. `cross_sell`"},"product_ids":{"items":{"type":"string"},"type":"array","title":"Product Ids","description":"Zero, one, or multiple product identifiers (depending on the id)","default":[]},"limit":{"anyOf":[{"type":"integer","maximum":128.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of recommendations returned."},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session identifier"}},"additionalProperties":false,"type":"object","required":["merchant","market","locale","type"],"title":"RecommendRequestV3"},"RecommendResponse":{"properties":{"displays":{"items":{"type":"object"},"type":"array","title":"Displays"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"variant":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Variant"},"experiment_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Experiment Id"}},"additionalProperties":false,"type":"object","required":["displays"],"title":"RecommendResponse"},"RecommendResponseV3":{"properties":{"displays":{"items":{"$ref":"#/components/schemas/APIDisplay"},"type":"array","title":"Displays"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"additionalProperties":false,"type":"object","required":["displays"],"title":"RecommendResponseV3"},"SearchFilter":{"properties":{"field":{"type":"string","title":"Field","description":"The field to filter by."},"op":{"type":"string","enum":["eq","neq","in","nin","leq","geq","inrange"],"title":"Op","description":"The operation used for filtering. The filtering should be read as `field op data`, for example `brand in [\"Nike\", \"Adidas\"]`."},"data":{"anyOf":[{"type":"string","enum":["true","false"]},{"type":"number"},{"type":"integer"},{"type":"string"},{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"integer"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"integer"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2},{"items":{"anyOf":[{"type":"string","enum":["true","false"]},{"type":"number"},{"type":"integer"},{"type":"string"},{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"integer"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"integer"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2}]},"type":"array"},{"items":{"items":{"type":"string"},"type":"array"},"type":"array"},{"type":"null"}],"title":"Data","description":"Data for the filter."},"meta":{"anyOf":[{"oneOf":[{"$ref":"#/components/schemas/RangeFilterMeta"},{"$ref":"#/components/schemas/ValuesFilterMeta"},{"$ref":"#/components/schemas/HierarchicalValuesFilterMeta"}],"discriminator":{"propertyName":"type","mapping":{"checkbox":"#/components/schemas/ValuesFilterMeta","checkbox-color":"#/components/schemas/ValuesFilterMeta","checkbox-grid":"#/components/schemas/ValuesFilterMeta","checkbox-hierarchical":"#/components/schemas/HierarchicalValuesFilterMeta","radio":"#/components/schemas/ValuesFilterMeta","range":"#/components/schemas/RangeFilterMeta"}}},{"type":"null"}],"title":"Meta","description":"Metadata about the filter that can be used for rendering. For example, this could contain the possible values to filter by and their counts in the results."},"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"ID of the filter. If multiple filters share the same ID, they should be grouped together in the UI."}},"additionalProperties":false,"type":"object","required":["field","op"],"title":"SearchFilter"},"SearchRequestV2":{"properties":{"cursor":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Cursor","description":"Used for cursor-based pagination. Set it to the cursor from the last response. If not set, will return the first results."},"limit":{"anyOf":[{"type":"integer","maximum":250.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of results per response."},"market":{"type":"string","title":"Market"},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"List of filters to apply to the results."},"sort":{"anyOf":[{"$ref":"#/components/schemas/SortModel-Input"},{"type":"null"}],"description":"Specifies the sorting method. By default, the results are ordered by relevance. To find the possible values for this field, query the endpoint and look at the `sorts` field."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the search."},"tenant":{"type":"string","title":"Tenant"},"locale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Locale","description":"The locale to use for the search. If not set, the default locale will be used."},"user_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"User Id","description":"User identifier"},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id"},"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query","description":"The search query."}},"additionalProperties":false,"type":"object","required":["market","tenant"],"title":"SearchRequestV2"},"SearchRequestV3":{"properties":{"cursor":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Cursor","description":"Used for cursor-based pagination. Set it to the cursor from the last response. If not set, will return the first results."},"limit":{"anyOf":[{"type":"integer","maximum":250.0,"minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of results per response."},"market":{"type":"string","title":"Market"},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"List of filters to apply to the results."},"sort":{"anyOf":[{"$ref":"#/components/schemas/SortModel-Input"},{"type":"null"}],"description":"Specifies the sorting method. By default, the results are ordered by relevance. To find the possible values for this field, query the endpoint and look at the `sorts` field."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session identifier"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Metadata that can be used to modify the behaviour of the search."},"merchant":{"type":"string","title":"Merchant"},"locale":{"type":"string","title":"Locale"},"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query","description":"The search query."}},"additionalProperties":false,"type":"object","required":["market","merchant","locale"],"title":"SearchRequestV3"},"SearchResponse":{"properties":{"n_hits":{"type":"integer","title":"N Hits","description":"Total number of results for this query. Not necessarily exact."},"sorts":{"anyOf":[{"items":{"$ref":"#/components/schemas/SortModel-Output"},"type":"array"},{"type":"null"}],"title":"Sorts","description":"Available methods for sorting the response. Any element from this list can be sent as `sort` in subsequent requests."},"filters":{"anyOf":[{"items":{"$ref":"#/components/schemas/SearchFilter"},"type":"array"},{"type":"null"}],"title":"Filters","description":"Available filters that can be used for filtering in the subsequent request."},"search_request_id":{"type":"string","title":"Search Request Id"},"cursor":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Cursor","description":"Cursor that can be used in the next request to get subsequent results. If this is not set, there are no more results."},"content_search_links":{"items":{"$ref":"#/components/schemas/ContentLink"},"type":"array","title":"Content Search Links","description":"List of links to content pages that match the search query."},"displays":{"items":{"type":"object"},"type":"array","title":"Displays","description":"The search results."},"debug_info":{"anyOf":[{},{"type":"null"}],"title":"Debug Info"}},"additionalProperties":false,"type":"object","required":["n_hits","search_request_id","displays"],"title":"SearchResponse"},"SearchSuggestionsResponse":{"properties":{"suggestions_request_id":{"type":"string","title":"Suggestions Request Id"},"suggestions":{"items":{"anyOf":[{"$ref":"#/components/schemas/common__schema__search__QuerySuggestion"},{"$ref":"#/components/schemas/LegacyCategorySuggestion"}]},"type":"array","title":"Suggestions","description":"List of suggestions for search queries that should be shown to the user while they are typing."}},"additionalProperties":false,"type":"object","required":["suggestions_request_id","suggestions"],"title":"SearchSuggestionsResponse"},"SearchSuggestionsResponseV3":{"properties":{"suggestions_request_id":{"type":"string","title":"Suggestions Request Id"},"suggestions":{"items":{"anyOf":[{"$ref":"#/components/schemas/common__schema__api_v3__QuerySuggestion"},{"$ref":"#/components/schemas/ListingSuggestion"}]},"type":"array","title":"Suggestions","description":"List of suggestions for search queries and product listings that should be shown to the user while they are typing."}},"additionalProperties":false,"type":"object","required":["suggestions_request_id","suggestions"],"title":"SearchSuggestionsResponseV3"},"SetCatalogAttributeConfigRequest":{"properties":{"merchant":{"type":"string","title":"Merchant"},"attributes":{"additionalProperties":{"$ref":"#/components/schemas/AttributeConfig"},"type":"object","title":"Attributes"},"locales":{"items":{"type":"string"},"type":"array","title":"Locales"}},"additionalProperties":false,"type":"object","required":["merchant","attributes","locales"],"title":"SetCatalogAttributeConfigRequest"},"SetProductAttributeConfigRequest":{"properties":{"merchant":{"type":"string","title":"Merchant"},"attributes":{"additionalProperties":{"$ref":"#/components/schemas/AttributeConfig"},"type":"object","title":"Attributes"},"locales":{"items":{"type":"string"},"type":"array","title":"Locales"},"pricelists":{"items":{"type":"string"},"type":"array","title":"Pricelists"},"inventories":{"items":{"type":"string"},"type":"array","title":"Inventories"}},"additionalProperties":false,"type":"object","required":["merchant","attributes","locales","pricelists","inventories"],"title":"SetProductAttributeConfigRequest"},"SortMeta":{"properties":{"title":{"type":"string","title":"Title"},"values":{"items":{"$ref":"#/components/schemas/SortingOrder"},"type":"array","title":"Values","description":"Selectable values"},"names":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Names","description":"Names for orders (this is what you should display in the UI, not values)"}},"additionalProperties":false,"type":"object","required":["title"],"title":"SortMeta"},"SortModel-Input":{"properties":{"field":{"type":"string","title":"Field","description":"The field to sort by."},"order":{"allOf":[{"$ref":"#/components/schemas/SortingOrder"}],"description":"The order to sort by."},"meta":{"anyOf":[{"$ref":"#/components/schemas/SortMeta"},{"type":"null"}],"description":"Metadata about the sort that can be used for rendering. "}},"additionalProperties":false,"type":"object","required":["field","order"],"title":"SortModel"},"SortModel-Output":{"properties":{"field":{"type":"string","title":"Field","description":"The field to sort by."},"order":{"allOf":[{"$ref":"#/components/schemas/SortingOrder"}],"description":"The order to sort by."},"meta":{"anyOf":[{"$ref":"#/components/schemas/SortMeta"},{"type":"null"}],"description":"Metadata about the sort that can be used for rendering. "}},"additionalProperties":false,"type":"object","required":["field","order"],"title":"SortModel"},"SortingOrder":{"type":"string","enum":["asc","desc"],"title":"SortingOrder"},"TrackV2Request":{"properties":{"tenant":{"type":"string","minLength":1,"title":"Tenant","description":"Identifier associated with the API integration"},"market":{"type":"string","minLength":1,"title":"Market","description":"Market identifier"},"events":{"items":{"anyOf":[{"$ref":"#/components/schemas/UserTransactionMappingEvent"},{"$ref":"#/components/schemas/PurchaseEvent"},{"$ref":"#/components/schemas/ProductUnavailableEvent"}]},"type":"array","title":"Events"}},"additionalProperties":false,"type":"object","required":["tenant","market","events"],"title":"TrackV2Request"},"TypesenseHighlights":{"properties":{"field":{"type":"string","title":"Field"},"snippet":{"type":"string","title":"Snippet"},"matched_tokens":{"items":{"type":"string"},"type":"array","title":"Matched Tokens"}},"additionalProperties":false,"type":"object","required":["field","snippet","matched_tokens"],"title":"TypesenseHighlights"},"UpsertCategoriesRequest":{"properties":{"merchant":{"type":"string","title":"Merchant"},"categories":{"items":{"$ref":"#/components/schemas/APICategory-Input"},"type":"array","title":"Categories"}},"additionalProperties":false,"type":"object","required":["merchant","categories"],"title":"UpsertCategoriesRequest"},"UpsertProductsRequest":{"properties":{"merchant":{"type":"string","title":"Merchant"},"products":{"items":{"$ref":"#/components/schemas/APIProduct-Input"},"type":"array","title":"Products"}},"additionalProperties":false,"type":"object","required":["merchant","products"],"title":"UpsertProductsRequest"},"UserTransactionMappingEvent":{"properties":{"user_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"User Id","description":"User Id. Persistent between devices, typically on a logged in user."},"session_id":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Session Id","description":"Session Id. Unique to a browser/app and stored locally, e.g. cookie or localStorage."},"dsid":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Dsid","description":"Populated for integrations performed by Depict.ai only. Depict.ai Session Id."},"transaction_id":{"type":"string","minLength":1,"title":"Transaction Id","description":"Unique identifier for the transaction."},"event_type":{"anyOf":[{"const":"transaction_mapping"},{"type":"null"}],"title":"Event Type","description":"The type identifier for this event: transaction_mapping."}},"additionalProperties":false,"type":"object","required":["transaction_id"],"title":"UserTransactionMappingEvent"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"ValuesFilterMeta":{"properties":{"group_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group Title","description":"Title of the group, where a group consists of all the filters that share an ID."},"group_expanded":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Group Expanded","description":"Whether the filter group should be expanded by default or not."},"type":{"type":"string","enum":["radio","checkbox","checkbox-grid","checkbox-color"],"title":"Type","description":"Type of filter."},"values":{"items":{"anyOf":[{"type":"string","enum":["true","false"]},{"type":"number"},{"type":"integer"},{"type":"string"},{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"integer"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"integer"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"prefixItems":[{"type":"number"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2}]},"type":"array","title":"Values","description":"Selectable values"},"counts":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Counts","description":"Counts for values"},"names":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Names","description":"Names for values. This is what should be displayed along with the UI item for the value."}},"additionalProperties":false,"type":"object","required":["type","values"],"title":"ValuesFilterMeta"},"common__schema__api_v3__QuerySuggestion":{"properties":{"type":{"const":"query","title":"Type","default":"query"},"suggestions_result_id":{"type":"string","title":"Suggestions Result Id"},"query":{"type":"string","title":"Query","description":"The suggested search query."}},"additionalProperties":false,"type":"object","required":["suggestions_result_id","query"],"title":"QuerySuggestion"},"common__schema__search__QuerySuggestion":{"properties":{"type":{"const":"query","title":"Type","default":"query"},"title":{"type":"string","title":"Title","description":"Title for suggestion."},"suggestions_result_id":{"type":"string","title":"Suggestions Result Id"}},"additionalProperties":false,"type":"object","required":["title","suggestions_result_id"],"title":"QuerySuggestion"},"realtime__routes__catalog_routes__APICategory__APILocaleAttributes":{"properties":{"locale_id":{"type":"string","title":"Locale Id"},"title":{"type":"string","title":"Title"},"uri":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uri"}},"additionalProperties":false,"type":"object","required":["locale_id","title"],"title":"APILocaleAttributes"},"realtime__routes__catalog_routes__APIProduct__APILocaleAttributes":{"properties":{"locale_id":{"type":"string","title":"Locale Id"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color_name":{"type":"string","title":"Color Name"},"size_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Size Name"},"material":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Material"},"custom_attributes":{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"array"},{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"object"},{"type":"null"}]},"type":"object","title":"Custom Attributes","default":{}}},"additionalProperties":false,"type":"object","required":["locale_id","title","color_name"],"title":"APILocaleAttributes"}},"securitySchemes":{"APIKeyQuery":{"type":"apiKey","in":"query","name":"api_key"},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-KEY"},"APIKeyCookie":{"type":"apiKey","in":"cookie","name":"X-API-KEY"},"HTTPBearer":{"type":"http","scheme":"bearer"}}}}